<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Valentinsdate?</title>

<style>
:root{
  --bg1:#120a2a;
  --bg2:#260a3a;
  --card: rgba(255,255,255,.08);
  --text:#fff;
  --muted: rgba(255,255,255,.78);
  --yes1:#ff4d88;
  --yes2:#ff9a4d;
  --shadow: 0 18px 60px rgba(0,0,0,.35);
  --radius: 22px;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  min-height:100svh;
  display:grid;
  place-items:center;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% 20%, rgba(255,77,136,.30), transparent 55%),
    radial-gradient(1200px 600px at 80% 30%, rgba(123,123,255,.25), transparent 55%),
    linear-gradient(135deg, var(--bg1), var(--bg2));
  overflow:hidden;
}

.card{
  width:min(720px, 92vw);
  padding: clamp(22px, 4vw, 38px);
  border-radius: var(--radius);
  background: var(--card);
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
}

h1{
  margin:0 0 10px;
  text-align:center;
  font-size: clamp(26px, 5vw, 44px);
}

p{
  margin:0 0 26px;
  text-align:center;
  color:var(--muted);
}

.stage{
  height:210px;
  display:grid;
  place-items:center;
}

.buttons{
  position:relative;
  width:min(560px, 90%);
  height:170px;
}

button{
  position:absolute;
  left:50%;
  top:28px;
  border:none;
  border-radius:999px;
  padding:14px 22px;
  min-width:160px;
  font-size:18px;
  font-weight:800;
  cursor:pointer;
  user-select:none;
  box-shadow:0 14px 40px rgba(0,0,0,.28);
}

#yesBtn{
  left: 50%;
  top: 28px;
  transform: translateX(-110%);
  background: linear-gradient(135deg, var(--yes1), var(--yes2));
  color:#160813;
}

#noBtn{
  left: 50%;
  top: 28px;

  --tx: 0px;
  --ty: 0px;

  /* Start leicht rechts vom Mittelpunkt */
  transform: translateX(10%) translate3d(var(--tx), var(--ty), 0);

  background: linear-gradient(135deg, #7b7bff, #66ffe9);
  color:#071018;

  transition: transform 220ms cubic-bezier(.22,1,.36,1), filter 180ms ease;
  will-change: transform;
}
  
.glitch{
  animation: glitch 180ms ease;
}

@keyframes glitch{
  40%{ filter: hue-rotate(20deg) saturate(1.4); }
}

.success{
  display:none;
  text-align:center;
  font-size: clamp(40px, 8vw, 90px);
  font-weight:900;
}

.success span{
  display:block;
  font-size:18px;
  margin-top:10px;
}

.show-success .buttons{ display:none; }
.show-success .success{ display:block; }

@media (max-width:480px){
  button{
    min-width:140px;
    font-size:16px;
    padding:12px 18px;
  }
}
</style>
</head>

<body>

<main class="card" id="card">
  <h1>Willst du mein Valentinsdate sein?</h1>
  <p>Du hast quasi keine Wahl ðŸ˜„</p>

  <section class="stage">
    <div class="buttons" id="buttons">
      <button id="yesBtn">Ja</button>
      <button id="noBtn">Nein</button>
    </div>

    <div class="success">
      JIPPI
      <span>Ich hol dich 17 Uhr ab!</span>
    </div>
  </section>
</main>

<script>
const card = document.getElementById('card');
const buttons = document.getElementById('buttons');
const yesBtn = document.getElementById('yesBtn');
const noBtn  = document.getElementById('noBtn');

const clamp = (n,min,max)=>Math.max(min,Math.min(max,n));
const rand  = (a,b)=>Math.random()*(b-a)+a;

let x=0,y=0;

function setPos(nx,ny){
  x=nx;y=ny;
  noBtn.style.setProperty('--tx',x+'px');
  noBtn.style.setProperty('--ty',y+'px');
}

function glitch(){
  noBtn.classList.remove('glitch');
  void noBtn.offsetWidth;
  noBtn.classList.add('glitch');
}

function bounds(){
  const r = buttons.getBoundingClientRect();
  const bw = noBtn.offsetWidth;
  const bh = noBtn.offsetHeight;
  const mobile = r.width < 420;

  const maxX = (r.width/2)-(bw/2)-10;
  const maxY = (r.height/2)-(bh/2)-10;

  return {
    minX:-maxX*(mobile?0.75:1),
    maxX: maxX*(mobile?0.75:1),
    minY:-maxY*(mobile?0.6:0.45),
    maxY: maxY,
    jump: mobile?60:110
  };
}

function flee(e){
  const b=bounds();
  const dx = rand(-1,1);
  const dy = rand(-1,1);

  let nx = x + dx*b.jump;
  let ny = y + dy*b.jump;

  setPos(
    clamp(nx,b.minX,b.maxX),
    clamp(ny,b.minY,b.maxY)
  );
  glitch();
}

noBtn.addEventListener('pointerenter',flee);
noBtn.addEventListener('pointerdown',(e)=>{e.preventDefault();flee(e);});
noBtn.addEventListener('click',(e)=>e.preventDefault());

yesBtn.addEventListener('click',()=>card.classList.add('show-success'));

setPos(rand(-6,6),rand(-4,6));
</script>

</body>
</html>

<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentinsdate?</title>

  <style>
    :root{
      --bg1:#120a2a;
      --bg2:#260a3a;
      --card: rgba(255,255,255,.08);
      --text:#fff;
      --muted: rgba(255,255,255,.78);
      --yes1:#ff4d88;
      --yes2:#ff9a4d;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(255,77,136,.30), transparent 55%),
        radial-gradient(1200px 600px at 80% 30%, rgba(123,123,255,.25), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* optional: kleine "Sterne" */
    .stars{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.35;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.8) 40%, transparent 41%),
        radial-gradient(1px 1px at 35% 70%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(1.5px 1.5px at 72% 35%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(1px 1px at 85% 80%, rgba(255,255,255,.6) 40%, transparent 41%),
        radial-gradient(2px 2px at 55% 10%, rgba(255,255,255,.5) 40%, transparent 41%);
      background-repeat:no-repeat;
      filter: blur(.2px);
    }

    .card{
      width:min(720px, 92vw);
      padding: clamp(22px, 4vw, 38px);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      position:relative;
    }

    h1{
      margin:0 0 10px 0;
      font-size: clamp(24px, 4vw, 44px);
      letter-spacing: .4px;
      line-height:1.08;
      text-align:center;
    }

    p{
      margin:0 0 26px 0;
      text-align:center;
      color:var(--muted);
      font-size: clamp(14px, 1.8vw, 16px);
    }

    .stage{
      position:relative;
      height: 210px;
      display:grid;
      place-items:center;
    }

    .buttons{
      position:relative;
      width:min(560px, 90%);
      height: 170px;
    }

    button{
      -webkit-tap-highlight-color: transparent;
      appearance:none;
      border:none;
      cursor:pointer;
      font-weight:800;
      letter-spacing:.6px;
      border-radius: 999px;
      padding: 14px 22px;
      font-size: 18px;
      box-shadow: 0 14px 40px rgba(0,0,0,.28);
      user-select:none;
      touch-action: manipulation;
      position:absolute;
      min-width: 160px;
    }

    #yesBtn{
      left: 50%;
      top: 28px;
      transform: translateX(-120%);
      background: linear-gradient(135deg, var(--yes1), var(--yes2));
      color:#160813;
      transition: transform .18s ease, filter .18s ease;
    }
    #yesBtn:hover{ transform: translateX(-120%) scale(1.04); filter: brightness(1.05); }
    #yesBtn:active{ transform: translateX(-120%) scale(.98); }

    /* NEIN: smooth movement via CSS vars */
    #noBtn{
      left: 50%;
      top: 28px;

      --tx: 0px;
      --ty: 0px;

      transform: translateX(20%) translate3d(var(--tx), var(--ty), 0);

      background: linear-gradient(135deg, rgba(123,123,255,1), rgba(102,255,233,1));
      color:#071018;

      transition: transform 240ms cubic-bezier(.22, 1, .36, 1), filter 180ms ease;
      will-change: transform, filter;
    }

    /* Glitch nur optisch (kein transform!) */
    .glitch{
      animation: glitchFilter 180ms ease;
    }
    @keyframes glitchFilter{
      0%   { filter: none; }
      35%  { filter: hue-rotate(18deg) saturate(1.6) contrast(1.1); }
      70%  { filter: hue-rotate(-14deg) saturate(1.4) contrast(1.05); }
      100% { filter: none; }
    }

    .success{
      display:none;
      text-align:center;
      font-size: clamp(34px, 7vw, 84px);
      font-weight: 1000;
      letter-spacing: 3px;
      text-transform: uppercase;
      text-shadow: 0 10px 40px rgba(255,77,136,.35);
      line-height: 1.1;
    }

    .success span{
      display:block;
      margin-top: 10px;
      font-size: 18px;
      letter-spacing: 0.4px;
      text-transform: none;
      font-weight: 700;
      color: rgba(255,255,255,.90);
      text-shadow: none;
    }

    .show-success .buttons{ display:none; }
    .show-success .success{ display:block; }

    .footer{
      margin-top: 16px;
      text-align:center;
      font-size: 12px;
      color: rgba(255,255,255,.55);
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <main class="card" id="card">
    <h1>Willst du mein Valentinsdate sein?</h1>
    <p>Du hast quasi keine Wahl. ðŸ˜„</p>

    <section class="stage">
      <div class="buttons" id="buttons">
        <button id="yesBtn" type="button">Ja</button>
        <button id="noBtn" type="button" aria-label="Nein (nicht klickbar)">Nein</button>
      </div>

      <div class="success" id="successText">
        JIPPI
        <span>Ich hol dich 17 Uhr ab!</span>
      </div>
    </section>

    <div class="footer">Nein? Versuch es doch!</div>
  </main>

  <script>
    const card = document.getElementById('card');
    const buttons = document.getElementById('buttons');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');

    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
    const rand  = (min, max) => Math.random() * (max - min) + min;

    // aktueller Offset des NEIN-Buttons (in px, relativ zum Buttons-Container)
    let noX = 0, noY = 0;

    function setNoPosition(x, y){
      noX = x;
      noY = y;
      noBtn.style.setProperty('--tx', `${noX}px`);
      noBtn.style.setProperty('--ty', `${noY}px`);
    }

    function glitch(){
      noBtn.classList.remove('glitch');
      void noBtn.offsetWidth; // restart animation
      noBtn.classList.add('glitch');
    }

    // sorgt dafÃ¼r, dass der Button innerhalb des .buttons Bereichs bleibt,
    // aber mit genug Freiheit "auszuweichen"
    function bounds(){
      const rect = buttons.getBoundingClientRect();
      // etwas groÃŸzÃ¼giger als vorher, damit er nicht "klebt"
      const maxX = rect.width  * 0.46;
      const minX = -rect.width * 0.46;
      const maxY = rect.height * 0.48;
      const minY = -rect.height * 0.18;
      return { minX, maxX, minY, maxY, base: Math.min(rect.width, rect.height) };
    }

    function fleeFrom(clientX, clientY){
      const rect = buttons.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // Pointer relativ zum Container
      const px = clientX - rect.left;
      const py = clientY - rect.top;

      // Button-Mittelpunkt relativ zum Container
      const cx = (btnRect.left + btnRect.width/2) - rect.left;
      const cy = (btnRect.top  + btnRect.height/2) - rect.top;

      let dx = cx - px;
      let dy = cy - py;

      if (Math.abs(dx) < 1 && Math.abs(dy) < 1){
        dx = rand(-1, 1);
        dy = rand(-1, 1);
      }

      const len = Math.hypot(dx, dy) || 1;
      dx /= len;
      dy /= len;

      const b = bounds();

      // etwas weniger abrupt: moderate SprÃ¼nge + weiche Varianz
      const jump = clamp(b.base * 0.30 + rand(-12, 12), 70, 150);

      let targetX = noX + dx * jump + rand(-8, 8);
      let targetY = noY + dy * jump + rand(-8, 8);

      // innerhalb halten
      targetX = clamp(targetX, b.minX, b.maxX);
      targetY = clamp(targetY, b.minY, b.maxY);

      setNoPosition(targetX, targetY);
      glitch();
    }

    // Desktop: bei AnnÃ¤herung
    function onApproach(e){
      fleeFrom(e.clientX, e.clientY);
    }

    // Mobile + Desktop: bei Pointerdown (sauber, ohne touchstart Doppeltrigger)
    function onTry(e){
      e.preventDefault();
      fleeFrom(e.clientX, e.clientY);
      return false;
    }

    // niemals klickbar
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      glitch();
      return false;
    });

    noBtn.addEventListener('pointerenter', onApproach);
    noBtn.addEventListener('pointermove',  onApproach);
    noBtn.addEventListener('pointerdown',  onTry);

    // JA -> Erfolg
    yesBtn.addEventListener('click', () => {
      card.classList.add('show-success');
    });

    // Start: leichte Random-Position
    setNoPosition(rand(-10, 10), rand(-6, 10));
  </script>
</body>
</html>

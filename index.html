<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentinsdate?</title>

  <style>
    :root{
      --bg1:#120a2a;
      --bg2:#260a3a;
      --card: rgba(255,255,255,.08);
      --text:#fff;
      --muted: rgba(255,255,255,.78);
      --yes1:#ff4d88;
      --yes2:#ff9a4d;
      --no:#7b7bff;
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 20%, rgba(255,77,136,.30), transparent 55%),
        radial-gradient(1200px 600px at 80% 30%, rgba(123,123,255,.25), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* optional: kleine "Sterne" */
    .stars{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.35;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.8) 40%, transparent 41%),
        radial-gradient(1px 1px at 35% 70%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(1.5px 1.5px at 72% 35%, rgba(255,255,255,.7) 40%, transparent 41%),
        radial-gradient(1px 1px at 85% 80%, rgba(255,255,255,.6) 40%, transparent 41%),
        radial-gradient(2px 2px at 55% 10%, rgba(255,255,255,.5) 40%, transparent 41%);
      background-repeat:no-repeat;
      filter: blur(.2px);
    }

    .card{
      width:min(720px, 92vw);
      padding: clamp(22px, 4vw, 38px);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      position:relative;
    }

    h1{
      margin:0 0 10px 0;
      font-size: clamp(24px, 4vw, 44px);
      letter-spacing: .4px;
      line-height:1.08;
      text-align:center;
    }

    p{
      margin:0 0 26px 0;
      text-align:center;
      color:var(--muted);
      font-size: clamp(14px, 1.8vw, 16px);
    }

    .stage{
      position:relative;
      height: 210px;          /* Platz zum Ausweichen */
      display:grid;
      place-items:center;
    }

    .buttons{
      position:relative;
      width:min(560px, 90%);
      height: 170px;
    }

    button{
      -webkit-tap-highlight-color: transparent;
      appearance:none;
      border:none;
      cursor:pointer;
      font-weight:800;
      letter-spacing:.6px;
      border-radius: 999px;
      padding: 14px 22px;
      font-size: 18px;
      box-shadow: 0 14px 40px rgba(0,0,0,.28);
      transition: transform .18s ease, filter .18s ease;
      user-select:none;
      touch-action: manipulation;
      position:absolute;
      min-width: 160px;
    }

    #yesBtn{
      left: 50%;
      top: 28px;
      transform: translateX(-120%);
      background: linear-gradient(135deg, var(--yes1), var(--yes2));
      color:#160813;
    }
    #yesBtn:hover{ transform: translateX(-120%) scale(1.04); filter: brightness(1.05); }
    #yesBtn:active{ transform: translateX(-120%) scale(.98); }

    #noBtn{
      left: 50%;
      top: 28px;
      transform: translateX(20%);
      background: linear-gradient(135deg, rgba(123,123,255,1), rgba(102,255,233,1));
      color:#071018;
    }

    /* "Glitch" Effekt */
    .glitch{
      animation: glitch 260ms steps(2, end);
    }
    @keyframes glitch{
      0%{ transform: translate(var(--tx,0), var(--ty,0)) rotate(0deg) scale(1); filter:hue-rotate(0deg) saturate(1.1); }
      25%{ transform: translate(calc(var(--tx,0) + 8px), calc(var(--ty,0) - 6px)) rotate(-1deg) scale(1.02); }
      50%{ transform: translate(calc(var(--tx,0) - 10px), calc(var(--ty,0) + 7px)) rotate(1deg) scale(.98); filter:hue-rotate(35deg) saturate(1.6); }
      75%{ transform: translate(calc(var(--tx,0) + 6px), calc(var(--ty,0) + 2px)) rotate(-.5deg) scale(1.03); }
      100%{ transform: translate(var(--tx,0), var(--ty,0)) rotate(0deg) scale(1); filter:hue-rotate(0deg) saturate(1.1); }
    }

    .success{
      display:none;
      text-align:center;
      font-size: clamp(34px, 7vw, 84px);
      font-weight: 1000;
      letter-spacing: 3px;
      text-transform: uppercase;
      text-shadow: 0 10px 40px rgba(255,77,136,.35);
    }

    .show-success .buttons{ display:none; }
    .show-success .success{ display:block; }

    /* kleine Info unten */
    .footer{
      margin-top: 16px;
      text-align:center;
      font-size: 12px;
      color: rgba(255,255,255,.55);
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <main class="card" id="card">
    <h1>Willst du mein Valentinsdate sein?</h1>
    <p>Du hast quasi keine Wahl. ðŸ˜„</p>

    <section class="stage">
      <div class="buttons" id="buttons">
        <button id="yesBtn" type="button">Ja</button>
        <button id="noBtn" type="button" aria-label="Nein (nicht klickbar)">Nein</button>
      </div>

      <div class="success" id="successText">JIPPI<br><span style="font-size: 18px !important">Ich hol dich 17 Uhr ab!</span></div>
    </section>

    <div class="footer">Tipp: Versuch mal, â€žNeinâ€œ zu erwischenâ€¦</div>
  </main>

  <script>
    const card = document.getElementById('card');
    const buttons = document.getElementById('buttons');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn  = document.getElementById('noBtn');

    // Hilfsfunktionen
    const clamp = (n, min, max) => Math.max(min, Math.min(max, n));
    const rand  = (min, max) => Math.random() * (max - min) + min;

    // Positioniere "Nein" initial hÃ¼bsch
    let noX = 0, noY = 0;

    function setNoPosition(px, py){
      noX = px; noY = py;
      noBtn.style.setProperty('--tx', `${noX}px`);
      noBtn.style.setProperty('--ty', `${noY}px`);
      noBtn.style.transform = `translateX(20%) translate(${noX}px, ${noY}px)`;
    }

    function glitch(){
      noBtn.classList.remove('glitch');
      // reflow -> damit Animation immer neu startet
      void noBtn.offsetWidth;
      noBtn.classList.add('glitch');
      // kleiner "Shake" Sound wÃ¤re nett, aber lassen wir es ohne Media.
    }

    function fleeFrom(pointX, pointY){
      const rect = buttons.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      // Mittelpunkt des Buttons relativ zum Container
      const btnCenterX = (btnRect.left + btnRect.width/2) - rect.left;
      const btnCenterY = (btnRect.top  + btnRect.height/2) - rect.top;

      // Punkt (Maus/Touch) relativ zum Container
      const px = pointX - rect.left;
      const py = pointY - rect.top;

      // Richtung weg vom Pointer
      let dx = btnCenterX - px;
      let dy = btnCenterY - py;

      // Falls Pointer "genau drauf": random Richtung
      if (Math.abs(dx) < 1 && Math.abs(dy) < 1){
        dx = rand(-1, 1);
        dy = rand(-1, 1);
      }

      // Normalisieren
      const len = Math.hypot(dx, dy) || 1;
      dx /= len; dy /= len;

      // Sprungweite (mehr auf Desktop, etwas weniger auf Mobile)
      const base = Math.min(rect.width, rect.height);
      const jump = clamp(base * 0.35 + rand(-20, 20), 80, 170);

      // Neue Zielposition
      let targetX = noX + dx * jump + rand(-10, 10);
      let targetY = noY + dy * jump + rand(-10, 10);

      // Begrenzen, damit er im Container bleibt
      // (wir rechnen in "Translate-Pixeln", also nur grob â€“ wirkt trotzdem gut)
      const maxX = rect.width  * 0.35;
      const minX = -rect.width * 0.35;
      const maxY = rect.height * 0.35;
      const minY = -rect.height * 0.10;

      targetX = clamp(targetX, minX, maxX);
      targetY = clamp(targetY, minY, maxY);

      setNoPosition(targetX, targetY);
      glitch();
    }

    // Desktop: wenn Maus in die NÃ¤he kommt -> weg
    // Pointer Events funktionieren auch fÃ¼r Touch, wir behandeln beides.
    function onApproach(e){
      // FÃ¼r Touch: bei pointermove meist nicht vorhanden, daher extra handler unten
      fleeFrom(e.clientX, e.clientY);
    }

    // Mobil: bei touchstart/pointerdown soll er sofort abhauen
    function onTryClick(e){
      e.preventDefault();
      const touch = e.touches && e.touches[0];
      const clientX = touch ? touch.clientX : e.clientX;
      const clientY = touch ? touch.clientY : e.clientY;
      fleeFrom(clientX, clientY);
      return false;
    }

    // "Nein" soll nie wirklich klickbar sein
    noBtn.addEventListener('click', (e) => {
      e.preventDefault();
      glitch();
      return false;
    });

    // Wenn man sich nÃ¤hert (Desktop) oder drauf tippt (Mobile)
    noBtn.addEventListener('pointerenter', onApproach);
    noBtn.addEventListener('pointermove',  onApproach);
    noBtn.addEventListener('pointerdown',  onTryClick);
    noBtn.addEventListener('touchstart',   onTryClick, { passive: false });

    // "Ja" -> Erfolg
    yesBtn.addEventListener('click', () => {
      card.classList.add('show-success');
    });

    // Start-Position leicht random
    setNoPosition(rand(-10, 10), rand(-6, 10));
  </script>
</body>
</html>
